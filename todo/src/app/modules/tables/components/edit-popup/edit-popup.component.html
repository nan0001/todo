<div class="overlay" (click)="closePopup()"></div>
<form [formGroup]="editForm" class="popup" (submit)="onFormSubmit()">
  <mat-form-field appearance="outline">
    <mat-label>Company name</mat-label>
    <input matInput formControlName="name" type="text" />
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Location</mat-label>
    <input matInput formControlName="location" type="text" />
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Sales, USD bln</mat-label>
    <input matInput formControlName="sales" type="number" />
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Profit, USD bln</mat-label>
    <input matInput formControlName="profit" type="number" />
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Assets, USD bln</mat-label>
    <input matInput formControlName="assets" type="number" />
  </mat-form-field>
  <div formGroupName="flags" class="flags">
    <mat-checkbox
      *ngFor="
        let flag of editForm.controls.flags.controls | keyvalue;
        let i = index
      "
      [formControlName]="flag.key"
      [indeterminate]="setIndeterminate(i)"
      [color]="checkboxColors[i]"
      class="flag-checkbox">
      {{ flag.key }}
    </mat-checkbox>
  </div>
  <div class="btn-container">
    <button mat-raised-button color="primary" type="submit">
      Accept changes
    </button>
    <button
      mat-raised-button
      type="button"
      class="cancel-btn"
      (click)="closePopup()">
      Cancel
    </button>
  </div>
</form>
